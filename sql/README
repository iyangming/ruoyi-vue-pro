


          
éœ€è¦å®Œæ•´åˆ†æSQLæ–‡ä»¶ä¸­çš„æ‰€æœ‰è¡¨ç»“æ„ï¼Œå…ˆæœç´¢æ‰€æœ‰CREATE TABLEè¯­å¥æ¥è·å–è¡¨ååˆ—è¡¨ã€‚
        
            
toolName: search_by_regex
            
status: success
          
          
ç°åœ¨è·å–å®Œæ•´çš„è¡¨ç»“æ„ä¿¡æ¯ï¼Œåˆ†æ®µè¯»å–SQLæ–‡ä»¶æ¥åˆ†ææ‰€æœ‰è¡¨çš„è¯¦ç»†ç»“æ„ã€‚
        
            
toolName: view_files
            
status: success
          
            
filePath: /Users/mingyang/Documents/ruoyi-vue-pro/ruoyi-vue-pro/sql/mysql/ruoyi-vue-pro.sql
          
æ–‡ä»¶å¤ªå¤§ï¼Œéœ€è¦åˆ†æ›´å°çš„æ®µè½æ¥è¯»å–è¡¨ç»“æ„ä¿¡æ¯ã€‚
        
            
toolName: view_files
            
status: success
          
            
filePath: /Users/mingyang/Documents/ruoyi-vue-pro/ruoyi-vue-pro/sql/mysql/ruoyi-vue-pro.sql
          
ç»§ç»­ç¼©å°è¯»å–èŒƒå›´æ¥è·å–è¡¨ç»“æ„è¯¦æƒ…ã€‚
        
            
toolName: view_files
            
status: success
          
            
filePath: /Users/mingyang/Documents/ruoyi-vue-pro/ruoyi-vue-pro/sql/mysql/ruoyi-vue-pro.sql
          
ç»§ç»­è¯»å–æ›´å¤šè¡¨ç»“æ„ä¿¡æ¯ï¼Œè·å–systemç›¸å…³è¡¨çš„å®šä¹‰ã€‚
        
            
toolName: view_files
            
status: success
          
            
filePath: /Users/mingyang/Documents/ruoyi-vue-pro/ruoyi-vue-pro/sql/mysql/ruoyi-vue-pro.sql
          
# è‹¥ä¾Vue Proæ•°æ®åº“è¡¨ç»“æ„åˆ†æ

åŸºäºSQLæ–‡ä»¶åˆ†æï¼Œè¯¥ç³»ç»ŸåŒ…å«47ä¸ªä¸»è¦æ•°æ®è¡¨ï¼ŒæŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç±»å¦‚ä¸‹ï¼š

## ğŸ“Š è¡¨ç»“æ„æ¦‚è§ˆ

### åŸºç¡€è®¾æ–½æ¨¡å— (infra_*)

#### 1. infra_api_access_log - APIè®¿é—®æ—¥å¿—è¡¨
- **ä¸»é”®**: id (bigint)
- **æ ¸å¿ƒå­—æ®µ**:
  - trace_id: é“¾è·¯è¿½è¸ªç¼–å·
  - user_id: ç”¨æˆ·ç¼–å·
  - request_method: è¯·æ±‚æ–¹æ³•
  - request_url: è¯·æ±‚åœ°å€
  - user_ip: ç”¨æˆ·IP
  - duration: æ‰§è¡Œæ—¶é•¿
- **ç´¢å¼•**: idx_create_time

#### 2. infra_api_error_log - ç³»ç»Ÿå¼‚å¸¸æ—¥å¿—è¡¨
- **ä¸»é”®**: id (bigint)
- **æ ¸å¿ƒå­—æ®µ**:
  - exception_name: å¼‚å¸¸åç§°
  - exception_message: å¼‚å¸¸æ¶ˆæ¯
  - exception_stack_trace: å¼‚å¸¸å †æ ˆ
  - process_status: å¤„ç†çŠ¶æ€

#### 3. infra_codegen_table - ä»£ç ç”Ÿæˆè¡¨å®šä¹‰
- **ä¸»é”®**: id (bigint)
- **æ ¸å¿ƒå­—æ®µ**:
  - table_name: è¡¨åç§°
  - module_name: æ¨¡å—å
  - business_name: ä¸šåŠ¡å
  - class_name: ç±»åç§°

#### 4. infra_codegen_column - ä»£ç ç”Ÿæˆå­—æ®µå®šä¹‰
- **ä¸»é”®**: id (bigint)
- **å¤–é”®**: table_id â†’ infra_codegen_table.id
- **æ ¸å¿ƒå­—æ®µ**:
  - column_name: å­—æ®µå
  - data_type: å­—æ®µç±»å‹
  - java_type: Javaç±»å‹

#### 5. infra_config - å‚æ•°é…ç½®è¡¨
- **ä¸»é”®**: id (bigint)
- **æ ¸å¿ƒå­—æ®µ**:
  - category: å‚æ•°åˆ†ç»„
  - config_key: å‚æ•°é”®å
  - value: å‚æ•°å€¼

#### 6. infra_data_source_config - æ•°æ®æºé…ç½®è¡¨
- **ä¸»é”®**: id (bigint)
- **æ ¸å¿ƒå­—æ®µ**:
  - name: æ•°æ®æºåç§°
  - url: è¿æ¥åœ°å€
  - username/password: è®¤è¯ä¿¡æ¯

#### 7. infra_file - æ–‡ä»¶è¡¨
- **ä¸»é”®**: id (bigint)
- **å¤–é”®**: config_id â†’ infra_file_config.id
- **æ ¸å¿ƒå­—æ®µ**:
  - name: æ–‡ä»¶å
  - path: æ–‡ä»¶è·¯å¾„
  - url: æ–‡ä»¶URL
  - size: æ–‡ä»¶å¤§å°

#### 8. infra_file_config - æ–‡ä»¶é…ç½®è¡¨
- **ä¸»é”®**: id (bigint)
- **æ ¸å¿ƒå­—æ®µ**:
  - name: é…ç½®å
  - storage: å­˜å‚¨å™¨ç±»å‹
  - config: å­˜å‚¨é…ç½®JSON

#### 9. infra_file_content - æ–‡ä»¶å†…å®¹è¡¨
- **ä¸»é”®**: id (bigint)
- **æ ¸å¿ƒå­—æ®µ**:
  - config_id: é…ç½®ç¼–å·
  - path: æ–‡ä»¶è·¯å¾„
  - content: æ–‡ä»¶å†…å®¹

#### 10. infra_job - å®šæ—¶ä»»åŠ¡è¡¨
- **ä¸»é”®**: id (bigint)
- **æ ¸å¿ƒå­—æ®µ**:
  - name: ä»»åŠ¡åç§°
  - handler_name: å¤„ç†å™¨åç§°
  - cron_expression: Cronè¡¨è¾¾å¼
  - status: ä»»åŠ¡çŠ¶æ€

#### 11. infra_job_log - å®šæ—¶ä»»åŠ¡æ—¥å¿—è¡¨
- **ä¸»é”®**: id (bigint)
- **å¤–é”®**: job_id â†’ infra_job.id
- **æ ¸å¿ƒå­—æ®µ**:
  - handler_name: å¤„ç†å™¨åç§°
  - execute_time: æ‰§è¡Œæ—¶é—´
  - duration: æ‰§è¡Œæ—¶é•¿
  - status: æ‰§è¡ŒçŠ¶æ€

### ç³»ç»Ÿç®¡ç†æ¨¡å— (system_*)

#### 12. system_users - ç”¨æˆ·è¡¨
- **ä¸»é”®**: id (bigint)
- **æ ¸å¿ƒå­—æ®µ**:
  - username: ç”¨æˆ·å
  - password: å¯†ç 
  - nickname: æ˜µç§°
  - email: é‚®ç®±
  - mobile: æ‰‹æœºå·
  - status: çŠ¶æ€

#### 13. system_role - è§’è‰²è¡¨
- **ä¸»é”®**: id (bigint)
- **æ ¸å¿ƒå­—æ®µ**:
  - name: è§’è‰²åç§°
  - code: è§’è‰²ç¼–ç 
  - sort: æ˜¾ç¤ºé¡ºåº
  - status: çŠ¶æ€

#### 14. system_menu - èœå•è¡¨
- **ä¸»é”®**: id (bigint)
- **æ ¸å¿ƒå­—æ®µ**:
  - parent_id: çˆ¶èœå•ID
  - name: èœå•åç§°
  - type: èœå•ç±»å‹
  - path: è·¯ç”±åœ°å€
  - permission: æƒé™æ ‡è¯†

#### 15. system_dept - éƒ¨é—¨è¡¨
- **ä¸»é”®**: id (bigint)
- **æ ¸å¿ƒå­—æ®µ**:
  - parent_id: çˆ¶éƒ¨é—¨ID
  - name: éƒ¨é—¨åç§°
  - sort: æ˜¾ç¤ºé¡ºåº
  - leader_user_id: è´Ÿè´£äºº

#### 16. system_post - å²—ä½è¡¨
- **ä¸»é”®**: id (bigint)
- **æ ¸å¿ƒå­—æ®µ**:
  - code: å²—ä½ç¼–ç 
  - name: å²—ä½åç§°
  - sort: æ˜¾ç¤ºé¡ºåº
  - status: çŠ¶æ€

#### 17. system_user_role - ç”¨æˆ·è§’è‰²å…³è”è¡¨
- **ä¸»é”®**: id (bigint)
- **å¤–é”®**: 
  - user_id â†’ system_users.id
  - role_id â†’ system_role.id

#### 18. system_user_post - ç”¨æˆ·å²—ä½å…³è”è¡¨
- **ä¸»é”®**: id (bigint)
- **å¤–é”®**:
  - user_id â†’ system_users.id
  - post_id â†’ system_post.id

#### 19. system_role_menu - è§’è‰²èœå•å…³è”è¡¨
- **ä¸»é”®**: id (bigint)
- **å¤–é”®**:
  - role_id â†’ system_role.id
  - menu_id â†’ system_menu.id

#### 20. system_dict_type - å­—å…¸ç±»å‹è¡¨
- **ä¸»é”®**: id (bigint)
- **æ ¸å¿ƒå­—æ®µ**:
  - name: å­—å…¸åç§°
  - type: å­—å…¸ç±»å‹
  - status: çŠ¶æ€

#### 21. system_dict_data - å­—å…¸æ•°æ®è¡¨
- **ä¸»é”®**: id (bigint)
- **å¤–é”®**: dict_type â†’ system_dict_type.type
- **æ ¸å¿ƒå­—æ®µ**:
  - label: å­—å…¸æ ‡ç­¾
  - value: å­—å…¸é”®å€¼
  - sort: æ˜¾ç¤ºé¡ºåº

### å…¶ä»–æ ¸å¿ƒè¡¨

#### 22-47. å…¶ä»–ç³»ç»Ÿè¡¨åŒ…æ‹¬ï¼š
- system_login_log - ç™»å½•æ—¥å¿—
- system_operate_log - æ“ä½œæ—¥å¿—
- system_mail_* - é‚®ä»¶ç›¸å…³
- system_sms_* - çŸ­ä¿¡ç›¸å…³
- system_oauth2_* - OAuth2ç›¸å…³
- system_social_* - ç¤¾äº¤ç™»å½•ç›¸å…³
- system_tenant_* - ç§Ÿæˆ·ç›¸å…³
- system_notify_* - é€šçŸ¥ç›¸å…³
- yudao_demo* - æ¼”ç¤ºè¡¨

## ğŸ”— ERå›¾å…³ç³»

```mermaid
erDiagram
    %% ç”¨æˆ·æƒé™æ ¸å¿ƒå…³ç³»
    system_users ||--o{ system_user_role : "ç”¨æˆ·-è§’è‰²"
    system_role ||--o{ system_user_role : "è§’è‰²-ç”¨æˆ·"
    system_role ||--o{ system_role_menu : "è§’è‰²-èœå•"
    system_menu ||--o{ system_role_menu : "èœå•-è§’è‰²"
    system_users ||--o{ system_user_post : "ç”¨æˆ·-å²—ä½"
    system_post ||--o{ system_user_post : "å²—ä½-ç”¨æˆ·"
    system_dept ||--o{ system_users : "éƒ¨é—¨-ç”¨æˆ·"
    
    %% å­—å…¸å…³ç³»
    system_dict_type ||--o{ system_dict_data : "å­—å…¸ç±»å‹-æ•°æ®"
    
    %% ä»£ç ç”Ÿæˆå…³ç³»
    infra_codegen_table ||--o{ infra_codegen_column : "è¡¨-å­—æ®µ"
    
    %% æ–‡ä»¶ç®¡ç†å…³ç³»
    infra_file_config ||--o{ infra_file : "æ–‡ä»¶é…ç½®-æ–‡ä»¶"
    
    %% ä»»åŠ¡è°ƒåº¦å…³ç³»
    infra_job ||--o{ infra_job_log : "ä»»åŠ¡-æ—¥å¿—"
    
    %% ç§Ÿæˆ·å…³ç³»
    system_tenant_package ||--o{ system_tenant : "ç§Ÿæˆ·å¥—é¤-ç§Ÿæˆ·"
    
    system_users {
        bigint id PK
        varchar username UK
        varchar password
        varchar nickname
        varchar email
        varchar mobile
        bigint dept_id FK
        tinyint status
    }
    
    system_role {
        bigint id PK
        varchar name
        varchar code UK
        int sort
        tinyint status
    }
    
    system_menu {
        bigint id PK
        bigint parent_id
        varchar name
        tinyint type
        varchar path
        varchar permission
    }
    
    system_dept {
        bigint id PK
        bigint parent_id
        varchar name
        int sort
        bigint leader_user_id
    }
    
    system_dict_type {
        bigint id PK
        varchar name
        varchar type UK
        tinyint status
    }
    
    system_dict_data {
        bigint id PK
        varchar dict_type FK
        varchar label
        varchar value
        int sort
    }
```

## ğŸ“ˆ æ•°æ®åº“è®¾è®¡ç‰¹ç‚¹

### 1. ç»Ÿä¸€çš„åŸºç¡€å­—æ®µ
æ‰€æœ‰è¡¨éƒ½åŒ…å«æ ‡å‡†çš„å®¡è®¡å­—æ®µï¼š
- `creator`: åˆ›å»ºè€…
- `create_time`: åˆ›å»ºæ—¶é—´
- `updater`: æ›´æ–°è€…
- `update_time`: æ›´æ–°æ—¶é—´
- `deleted`: é€»è¾‘åˆ é™¤æ ‡è¯†
- `tenant_id`: ç§Ÿæˆ·ç¼–å·ï¼ˆå¤šç§Ÿæˆ·æ”¯æŒï¼‰

### 2. å­—ç¬¦é›†å’Œæ’åºè§„åˆ™
- ç»Ÿä¸€ä½¿ç”¨ `utf8mb4` å­—ç¬¦é›†
- æ’åºè§„åˆ™ä¸º `utf8mb4_unicode_ci`
- æ”¯æŒå®Œæ•´çš„Unicodeå­—ç¬¦é›†

### 3. å­˜å‚¨å¼•æ“
- å…¨éƒ¨ä½¿ç”¨ `InnoDB` å­˜å‚¨å¼•æ“
- æ”¯æŒäº‹åŠ¡å’Œå¤–é”®çº¦æŸ
- å…·å¤‡è‰¯å¥½çš„å¹¶å‘æ€§èƒ½

### 4. ç´¢å¼•è®¾è®¡
- ä¸»é”®ç»Ÿä¸€ä½¿ç”¨ `bigint` è‡ªå¢
- é‡è¦æŸ¥è¯¢å­—æ®µå»ºç«‹äº†ç›¸åº”ç´¢å¼•
- å¦‚ `idx_create_time` ç­‰æ—¶é—´ç´¢å¼•

### 5. å¤šç§Ÿæˆ·æ¶æ„
- å¤§éƒ¨åˆ†è¡¨åŒ…å« `tenant_id` å­—æ®µ
- æ”¯æŒSaaSå¤šç§Ÿæˆ·æ¨¡å¼
- æ•°æ®éš”ç¦»å’Œæƒé™æ§åˆ¶

è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„ä¼ä¸šçº§åå°ç®¡ç†ç³»ç»Ÿæ•°æ®åº“è®¾è®¡ï¼Œæ¶µç›–äº†ç”¨æˆ·æƒé™ç®¡ç†ã€ç³»ç»Ÿé…ç½®ã€æ–‡ä»¶ç®¡ç†ã€ä»»åŠ¡è°ƒåº¦ã€ä»£ç ç”Ÿæˆç­‰æ ¸å¿ƒåŠŸèƒ½æ¨¡å—ã€‚
        